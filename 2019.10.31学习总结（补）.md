### 2019.10.31学习总结（补） ###

##### 初步了解`Mysql`存储引擎 #####

1. （主要）`innodb`引擎，支持事务，其设计目标主要面向在线事务处理的应用，特点是<u>行锁设计，支持外键，并支持类似于`Oracle`的非锁定读，也就是默认读取操作不会产生锁</u>。`Mysql`1.4版本以后，`Innodb`的表单独存储到一个独立的`idb`文件中。`Innodb`通过使用`MVCC`（多版本并发控制），并且实现了`SQL`的四种隔离性级别，默认为`REPEATABLE`（可重复读）。同时使用一种叫做<u>next-key locking</u>的策略来避免幻读的产生。另外，`Innodb`还提供了插入缓存(`insert buffer`),二次读写(`double write`),自适应哈希索引(`adaptive hash index`),预读(`read ahead`)等高性能和高可用功能。（此处初步了解这些概念，以后将深入学习)

2. `MyISAM`存储引擎,<u>它不支持事务，表锁设计，但是支持全文索引，主要面向一些OLAP数据库应用</u>。`MyISAM`存储引擎表由MYD和MYI组成，MYD用来存放数据文件，MYI用来存放索引文件。可以通过`myisampack`工具来进一步压缩文件，因为`myisampack`使用`Huffman`静态编码算法来压缩数据，因此压缩后的文件是只读的。

3. `NDB`存储引擎，这是一个集群存储引擎，类似于Oracle的RAC集群，不过不同的是，Oracle是`share everything`的架构，而NDB是`share nothing`的集群架构，因此能提供更高的可用性。NDB把数据都存放在内存中（`Mysql5.1`以后可以将非索引数据存放在磁盘上），因此主键查找速度极快,通过添加数据库存储节点能线性地提高数据库性能(性能很好，可用性高)。但是NDB有一个很大的问题，那就是** `NDB`存储引擎的连接操作实在数据库层面完成的，而不是在存储层面完成的。这意味着，复杂的连接操作需要巨大的网络开销。

   附：`Mysql`隔离性级别: 

   |隔离性级别|脏读|幻读|不可重复|     

   | ---                          | :--: | :--: | ---  |
   | :--------------------------- | :--: | :--: | ---- |
   | 读未提交(`read-uncommitted`) |  是  |  是  | 是   |
   | 不可重复读(read-committed)   |  否  |  是  | 是   |
   | 可重复读(repeatable-read)    |  否  |  否  | 是   |
   | 串行化(serializable)         |  否  |  否  | 否   |

   

   

   

